{"version":3,"sources":["/source/pivot.ru.coffee","pivot.ru.min.js"],"names":["callWithJQuery","pivotModule","exports","module","require","define","amd","jQuery","$","frFmt","frFmtInt","frFmtPct","nf","tpl","pivotUtilities","numberFormat","aggregatorTemplates","thousandsSep","decimalSep","digitsAfterDecimal","scaler","suffix","locales","ru","localeStrings","renderError","computeError","uiRenderError","selectAll","selectNone","tooMany","filterResults","totals","vs","by","aggregators","Кол-во","count","Кол-во уникальных","countUnique","Список уникальных","listUnique","Сумма","sum","Сумма целых","Среднее","average","Минимум","min","Максимум","max","Сумма по сумме","sumOverSum","80% верхней границы","sumOverSumBound80","80% нижней границы","Доля по всему","fractionOf","Доля по строке","Доля по столбцу","Кол-во по всему","Кол-во по строке","Кол-во по столбцу","renderers","Таблица","График столбцы","Тепловая карта","Тепловая карта по строке","Тепловая карта по столбцу","call","this"],"mappings":"CAAA,WAAA,GAAAA,IAAAA,EAAiB,SAACC,GACd,MAAqB,gBAAXC,UAAyC,gBAAVC,QACrCF,EAAYG,QAAQ,WACC,kBAAVC,SAAyBA,OAAOC,IAC3CD,QAAQ,UAAWJ,GAGnBA,EAAYM,UAEL,SAACC,GACZ,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,CCuBA,ODvBAD,GAAKJ,EAAEM,eAAeC,aACtBF,EAAML,EAAEM,eAAeE,oBAEvBP,EAAWG,GAAGK,aAAc,IAAKC,WAAY,MAC7CR,EAAWE,GAAGO,mBAAoB,EAAGF,aAAc,IAAKC,WAAY,MACpEP,EAAWC,GAAGO,mBAAoB,EAAGC,OAAQ,IAAKC,OAAQ,IAAKJ,aAAc,IAAKC,WAAY,MAE9FV,EAAEM,eAAeQ,QAAQC,IACrBC,eACIC,YAAa,8BACbC,aAAc,6BACdC,cAAe,8DACfC,UAAW,cACXC,WAAY,kBACZC,QAAS,mCACTC,cAAe,qBACfC,OAAQ,QACRC,GAAI,KACJC,GAAI,KAERC,aACIC,SAAUvB,EAAIwB,MAAM3B,GACpB4B,oBAAqBzB,EAAI0B,YAAY7B,GACrC8B,oBAAqB3B,EAAI4B,WAAW,MACpCC,QAAS7B,EAAI8B,IAAIlC,GACjBmC,cAAe/B,EAAI8B,IAAIjC,GACvBmC,UAAWhC,EAAIiC,QAAQrC,GACvBsC,UAAWlC,EAAImC,IAAIvC,GACnBwC,WAAYpC,EAAIqC,IAAIzC,GACpB0C,iBAAkBtC,EAAIuC,WAAW3C,GACjC4C,sBAAuBxC,EAAIyC,mBAAkB,EAAM7C,GACnD8C,qBAAsB1C,EAAIyC,mBAAkB,EAAO7C,GACnD+C,gBAAiB3C,EAAI4C,WAAW5C,EAAI8B,MAAO,QAAShC,GACpD+C,iBAAkB7C,EAAI4C,WAAW5C,EAAI8B,MAAO,MAAOhC,GACnDgD,kBAAmB9C,EAAI4C,WAAW5C,EAAI8B,MAAO,MAAOhC,GACpDiD,kBAAmB/C,EAAI4C,WAAW5C,EAAIwB,QAAS,QAAS1B,GACxDkD,mBAAoBhD,EAAI4C,WAAW5C,EAAIwB,QAAS,MAAO1B,GACvDmD,oBAAqBjD,EAAI4C,WAAW5C,EAAIwB,QAAS,MAAO1B,IAE5DoD,WACIC,UAAWxD,EAAEM,eAAeiD,UAAU,MACtCE,iBAAkBzD,EAAEM,eAAeiD,UAAU,kBAC7CG,iBAAkB1D,EAAEM,eAAeiD,UAAU,QAC7CI,2BAA4B3D,EAAEM,eAAeiD,UAAU,eACvDK,4BAA6B5D,EAAEM,eAAeiD,UAAU,qBCqBjEM,KAAKC","file":"pivot.ru.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\r\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\r\n        pivotModule require(\"jquery\")\r\n    else if typeof define is \"function\" and define.amd # AMD\r\n        define [\"jquery\"], pivotModule\r\n    # Plain browser env\r\n    else\r\n        pivotModule jQuery\r\n        \r\ncallWithJQuery ($) ->\r\n    nf = $.pivotUtilities.numberFormat\r\n    tpl = $.pivotUtilities.aggregatorTemplates\r\n\r\n    frFmt =    nf(thousandsSep: \" \", decimalSep: \",\")\r\n    frFmtInt = nf(digitsAfterDecimal: 0, thousandsSep: \" \", decimalSep: \",\")\r\n    frFmtPct = nf(digitsAfterDecimal: 1, scaler: 100, suffix: \"%\", thousandsSep: \" \", decimalSep: \",\")\r\n\r\n    $.pivotUtilities.locales.ru = \r\n        localeStrings:\r\n            renderError: \"Ошибка рендеринга страницы.\",\r\n            computeError: \"Ошибка табличных расчетов.\",\r\n            uiRenderError: \"Ошибка во время прорисовки и динамического расчета таблицы.\",\r\n            selectAll: \"Выбрать все\",\r\n            selectNone: \"Снять выделение\",\r\n            tooMany: \"(Выбрано слишком много значений)\",\r\n            filterResults: \"Возможные значения\",\r\n            totals: \"Всего\",\r\n            vs: \"на\",\r\n            by: \"с\"\r\n\r\n        aggregators: \r\n            \"Кол-во\": tpl.count(frFmtInt),\r\n            \"Кол-во уникальных\": tpl.countUnique(frFmtInt),\r\n            \"Список уникальных\": tpl.listUnique(\", \"),\r\n            \"Сумма\": tpl.sum(frFmt),\r\n            \"Сумма целых\": tpl.sum(frFmtInt),\r\n            \"Среднее\": tpl.average(frFmt),\r\n            \"Минимум\": tpl.min(frFmt),\r\n            \"Максимум\": tpl.max(frFmt),\r\n            \"Сумма по сумме\": tpl.sumOverSum(frFmt),\r\n            \"80% верхней границы\": tpl.sumOverSumBound80(true, frFmt),\r\n            \"80% нижней границы\": tpl.sumOverSumBound80(false, frFmt),\r\n            \"Доля по всему\": tpl.fractionOf(tpl.sum(), \"total\", frFmtPct),\r\n            \"Доля по строке\": tpl.fractionOf(tpl.sum(), \"row\", frFmtPct),\r\n            \"Доля по столбцу\": tpl.fractionOf(tpl.sum(), \"col\", frFmtPct),\r\n            \"Кол-во по всему\": tpl.fractionOf(tpl.count(), \"total\", frFmtPct),\r\n            \"Кол-во по строке\": tpl.fractionOf(tpl.count(), \"row\", frFmtPct),\r\n            \"Кол-во по столбцу\": tpl.fractionOf(tpl.count(), \"col\", frFmtPct)\r\n\r\n        renderers:\r\n            \"Таблица\": $.pivotUtilities.renderers[\"Table\"]\r\n            \"График столбцы\": $.pivotUtilities.renderers[\"Table Barchart\"] # TODO придумать более понятный вариант\r\n            \"Тепловая карта\": $.pivotUtilities.renderers[\"Heatmap\"]\r\n            \"Тепловая карта по строке\": $.pivotUtilities.renderers[\"Row Heatmap\"]\r\n            \"Тепловая карта по столбцу\": $.pivotUtilities.renderers[\"Col Heatmap\"]\r\n\r\n","(function() {\n  var callWithJQuery;\n\n  callWithJQuery = function(pivotModule) {\n    if (typeof exports === \"object\" && typeof module === \"object\") {\n      return pivotModule(require(\"jquery\"));\n    } else if (typeof define === \"function\" && define.amd) {\n      return define([\"jquery\"], pivotModule);\n    } else {\n      return pivotModule(jQuery);\n    }\n  };\n\n  callWithJQuery(function($) {\n    var frFmt, frFmtInt, frFmtPct, nf, tpl;\n    nf = $.pivotUtilities.numberFormat;\n    tpl = $.pivotUtilities.aggregatorTemplates;\n    frFmt = nf({\n      thousandsSep: \" \",\n      decimalSep: \",\"\n    });\n    frFmtInt = nf({\n      digitsAfterDecimal: 0,\n      thousandsSep: \" \",\n      decimalSep: \",\"\n    });\n    frFmtPct = nf({\n      digitsAfterDecimal: 1,\n      scaler: 100,\n      suffix: \"%\",\n      thousandsSep: \" \",\n      decimalSep: \",\"\n    });\n    return $.pivotUtilities.locales.ru = {\n      localeStrings: {\n        renderError: \"Ошибка рендеринга страницы.\",\n        computeError: \"Ошибка табличных расчетов.\",\n        uiRenderError: \"Ошибка во время прорисовки и динамического расчета таблицы.\",\n        selectAll: \"Выбрать все\",\n        selectNone: \"Снять выделение\",\n        tooMany: \"(Выбрано слишком много значений)\",\n        filterResults: \"Возможные значения\",\n        totals: \"Всего\",\n        vs: \"на\",\n        by: \"с\"\n      },\n      aggregators: {\n        \"Кол-во\": tpl.count(frFmtInt),\n        \"Кол-во уникальных\": tpl.countUnique(frFmtInt),\n        \"Список уникальных\": tpl.listUnique(\", \"),\n        \"Сумма\": tpl.sum(frFmt),\n        \"Сумма целых\": tpl.sum(frFmtInt),\n        \"Среднее\": tpl.average(frFmt),\n        \"Минимум\": tpl.min(frFmt),\n        \"Максимум\": tpl.max(frFmt),\n        \"Сумма по сумме\": tpl.sumOverSum(frFmt),\n        \"80% верхней границы\": tpl.sumOverSumBound80(true, frFmt),\n        \"80% нижней границы\": tpl.sumOverSumBound80(false, frFmt),\n        \"Доля по всему\": tpl.fractionOf(tpl.sum(), \"total\", frFmtPct),\n        \"Доля по строке\": tpl.fractionOf(tpl.sum(), \"row\", frFmtPct),\n        \"Доля по столбцу\": tpl.fractionOf(tpl.sum(), \"col\", frFmtPct),\n        \"Кол-во по всему\": tpl.fractionOf(tpl.count(), \"total\", frFmtPct),\n        \"Кол-во по строке\": tpl.fractionOf(tpl.count(), \"row\", frFmtPct),\n        \"Кол-во по столбцу\": tpl.fractionOf(tpl.count(), \"col\", frFmtPct)\n      },\n      renderers: {\n        \"Таблица\": $.pivotUtilities.renderers[\"Table\"],\n        \"График столбцы\": $.pivotUtilities.renderers[\"Table Barchart\"],\n        \"Тепловая карта\": $.pivotUtilities.renderers[\"Heatmap\"],\n        \"Тепловая карта по строке\": $.pivotUtilities.renderers[\"Row Heatmap\"],\n        \"Тепловая карта по столбцу\": $.pivotUtilities.renderers[\"Col Heatmap\"]\n      }\n    };\n  });\n\n}).call(this);\n\n//# sourceMappingURL=pivot.ru.js.map\n"],"sourceRoot":"/source/"}